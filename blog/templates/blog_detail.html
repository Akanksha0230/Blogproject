{% extends "base_generic.html" %}
{% block content %}
<h1>{{ blog.title }}</h1>
<img src="{{ blog.image.url }}" alt="{{ blog.title }}">
<p>{{ blog.content }}</p>
<p>Tags: {% for tag in blog.tags.all %}{{ tag.name }} {% endfor %}</p>
<p>Posted on: {{ blog.date |date:"d M Y h:i A"  }}</p>
<p>Author: <img src="{{ blog.author.profile_image.url }}" alt="{{ blog.author.username }}" class="img-thumbnail mb-3" width="150" height="150">{{ blog.author.username }}</p>
<p>Likes: {{ blog.likes.count }}</p>
<p>Comments:</p>
<ul>
    {% for comment in comments %}
    <li>{{ comment.content }} - {{ comment.user.username }} on {{ comment.date }}</li>
    {% endfor %}
</ul>
{% if user.is_authenticated %}
<form method="POST" action="{% url 'comment_blog' blog.id %}">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Add Comment">
</form>
<form method="POST" action="{% url 'like_blog' blog.id %}">
    {% csrf_token %}
    <input type="submit" value="Like">
</form>
{% endif %}
{% endblock %}
